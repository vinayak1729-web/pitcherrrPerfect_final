<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pitcher Perfect - Baseball Stats</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Bungee&family=Permanent+Marker&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #d5e7f3;
            --primary: #ff2e2e;
            --secondary: #213a8f;
            --white: #ffffff;
            --black: #000000;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: var(--bg-color);
            font-family: 'Permanent Marker', cursive;
            overflow-x: hidden;
        }

        /* Neo-brutalist navbar */
        .navbar {
            background: var(--secondary);
            border: 4px solid var(--black);
            box-shadow: 8px 8px 0 var(--black);
            padding: 1rem;
            margin: 1rem;
            position: relative;
        }

        .navbar-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-family: 'Bungee', cursive;
            font-size: 2rem;
            color: var(--white);
            text-shadow: 4px 4px 0 var(--black);
        }

        .nav-links {
            display: flex;
            gap: 2rem;
        }

        .nav-link {
            color: var(--white);
            text-decoration: none;
            font-size: 1.2rem;
            padding: 0.5rem 1rem;
            border: 3px solid var(--black);
            background: var(--primary);
            box-shadow: 4px 4px 0 var(--black);
            transition: all 0.2s ease;
        }

        .nav-link:hover {
            transform: translate(-2px, -2px);
            box-shadow: 6px 6px 0 var(--black);
        }

        /* Baseball stitching border */
        .baseball-border {
            position: relative;
            padding: 2rem;
            margin: 2rem;
            background: var(--white);
            border: 4px solid var(--black);
            box-shadow: 8px 8px 0 var(--black);
        }

        .baseball-border::before,
        .baseball-border::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 20px;
            background: repeating-linear-gradient(
                45deg,
                var(--primary) 0,
                var(--primary) 10px,
                transparent 10px,
                transparent 20px
            );
        }

        .baseball-border::before {
            top: 0;
            left: 0;
        }

        .baseball-border::after {
            bottom: 0;
            left: 0;
        }

        /* Game cards */
        .game-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            padding: 2rem;
        }

        .game-card {
            background: var(--white);
            border: 4px solid var(--black);
            box-shadow: 8px 8px 0 var(--black);
            padding: 1.5rem;
            transition: all 0.2s ease;
        }

        .game-card:hover {
            transform: translate(-4px, -4px);
            box-shadow: 12px 12px 0 var(--black);
        }

        /* News section */
        .news-section {
            background: var(--secondary);
            color: var(--white);
            padding: 2rem;
            margin: 2rem;
            border: 4px solid var(--black);
            box-shadow: 8px 8px 0 var(--black);
        }

        .news-card {
            background: var(--white);
            color: var(--black);
            margin: 1rem 0;
            padding: 1rem;
            border: 3px solid var(--black);
            box-shadow: 4px 4px 0 var(--black);
            transition: all 0.2s ease;
        }

        .news-card:hover {
            transform: translate(-2px, -2px);
            box-shadow: 6px 6px 0 var(--black);
        }

        /* Chatbot */
        .chatbot-button {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 60px;
            height: 60px;
            background: var(--primary);
            border: 3px solid var(--black);
            box-shadow: 4px 4px 0 var(--black);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: var(--white);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .chatbot-button:hover {
            transform: translate(-2px, -2px);
            box-shadow: 6px 6px 0 var(--black);
        }

        /* Dark mode toggle */
        .dark-mode-toggle {
            background: var(--primary);
            border: 3px solid var(--black);
            box-shadow: 4px 4px 0 var(--black);
            padding: 0.5rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .dark-mode-toggle:hover {
            transform: translate(-2px, -2px);
            box-shadow: 6px 6px 0 var(--black);
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .navbar-content {
                flex-direction: column;
                gap: 1rem;
            }

            .nav-links {
                flex-direction: column;
                align-items: center;
            }

            .game-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Main Navigation -->
    <nav class="bg-[#213a8f] dark:bg-gray-800 shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <img src="" alt="Logo" class="h-12">
                </div>
                <div class="flex items-center space-x-8">
                    <a href="/"
                        class="text-white dark:text-white hover:text-lexus-red dark:hover:text-lexus-red transition-colors">Home</a>
                    <a href="/Chat_dashboard"
                        class="text-white dark:text-white hover:text-lexus-red dark:hover:text-lexus-red transition-colors">Fan
                        Link</a>
                    <a href="/yourteam"
                        class="text-white dark:text-white hover:text-lexus-red dark:hover:text-lexus-red transition-colors">Your
                        Team</a>
                    <a href="/profile"
                        class="text-white dark:text-white hover:text-lexus-red dark:hover:text-lexus-red transition-colors">Profile</a>
                    <button id="darkModeToggle"
                        class="text-white dark:text-white hover:text-lexus-red dark:hover:text-lexus-red transition-colors">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd"
                                d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
                                clip-rule="evenodd" />
                        </svg>
                    </button>
</div>
            </div>
        </div>
    </nav>

     <!-- Left Sidebar -->
     <div class="fixed left-0 top-1/4 z-40">
        <div class="bg-[#ff2e2e] p-4 rounded-r-lg shadow-xl transform transition-transform hover:translate-x-2">
            <button id="sidebar-toggle" class="text-white text-2xl">☰</button>
        </div>
        <div id="sidebar" class="hidden bg-white dark:bg-gray-800 w-64 h-screen p-4 shadow-xl">
            <!-- Language Settings -->
            <div class="mb-6">
                <h3 class="text-xl font-bold mb-4">Language</h3>
            <div id="settings-dropdown"
                class="hidden absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700">
                <div class="py-1">
                    <a href="?lang=en"
                        class="block px-4 py-2 hover:bg-red-100 dark:hover:bg-red-900 transition-colors">English</a>
                    <a href="?lang=ja"
                        class="block px-4 py-2 hover:bg-red-100 dark:hover:bg-red-900 transition-colors">Japanese</a>
                    <a href="?lang=es"
                        class="block px-4 py-2 hover:bg-red-100 dark:hover:bg-red-900 transition-colors">Spanish</a>
                    <a href="?lang=de"
                        class="block px-4 py-2 hover:bg-red-100 dark:hover:bg-red-900 transition-colors">German</a>
                    <a href="?lang=ko"
                        class="block px-4 py-2 hover:bg-red-100 dark:hover:bg-red-900 transition-colors">Korean</a>
                    <a href="?lang=fr"
                        class="block px-4 py-2 hover:bg-red-100 dark:hover:bg-red-900 transition-colors">French</a>
                    <a href="?lang=hi"
                        class="block px-4 py-2 hover:bg-red-100 dark:hover:bg-red-900 transition-colors">Hindi</a>
                </div>
            </div>
        </div>
    </div>
    <!-- Main Content -->
    <div class="container mx-auto px-4 py-8">
        <div class="text-center mb-12">
            <h1 class="baseball-font text-6xl mb-3 neon-text">
                <span class="text-red-600 dark:text-red-500">Pitcher</span>
                <span class="text-blue-600 dark:text-blue-500">Perfect</span>
            </h1>
            <p class="text-gray-600 dark:text-gray-400 italic text-xl">Your Perfect Pitch for All MLB Game Needs</p>
        </div>

        <BR><BR></BR></BR>
        <!-- Upcoming Games Section -->
        <div class="mb-12">
            <h2 class="text-3xl font-bold mb-6 text-red-600 dark:text-red-500 neon-text"></h2>
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                {% for game in upcoming_games %}
                <div
                    class="bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 border-2 border-red-400 dark:border-red-600 hover:border-blue-600 dark:hover:border-blue-500 transition-all transform hover:scale-105">
                    <div class="flex justify-between items-center mb-4">
                        <div class="text-xl font-bold text-gray-800 dark:text-white">{{ game.homeTeam }}</div>
                        <div class="text-lg text-red-600 dark:text-red-500 neon-text">vs</div>
                        <div class="text-xl font-bold text-gray-800 dark:text-white">{{ game.awayTeam }}</div>
                    </div>
                    <div class="text-gray-600 dark:text-gray-400 mb-2">
                        <i class="fas fa-map-marker-alt"></i> {{ game.venue }}
                    </div>
                    <div class="text-gray-600 dark:text-gray-400">
                        {{ game.gameDate|replace("T", " ")|replace("Z", "") }}
                    </div>
                    <div
                        class="mt-3 inline-block bg-red-500 dark:bg-red-600 text-white px-3 py-1 rounded-full text-sm neon-box">
                       
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>

   

    <!-- News Section -->
    <div id="news-section" class="fixed bottom-20 left-4">
        <div class="flex justify-between items-center mb-4">
            <h2 class="text-2xl font-bold text-blue-600 dark:text-blue-500 neon-text">Latest News</h2>
            <button id="close-news" class="text-gray-600 hover:text-red-600">✖</button>
        </div>
        <div class="news-scroll max-h-[60vh] overflow-y-auto">
            {% for article in news %}
            <a href="{{ article.link }}" class="block mb-4 last:mb-0 hover:transform hover:scale-102 transition-all">
                <div class="p-4 rounded-lg news-card hover:bg-red-50 dark:hover:bg-red-900/30 transition-colors">
                    <h3 class="text-lg font-semibold text-gray-800 dark:text-white mb-2">{{ article.title }}</h3>
                    <div class="mt-2 flex justify-between items-center">
                        <span class="text-blue-600 dark:text-blue-500 text-sm">Read more →</span>
                    </div>
                </div>
            </a>
            {% endfor %}
        </div>
    </div>


    <!-- Chatbot -->
    <div class="fixed bottom-4 right-4 z-50">
        <button id="chatbot-trigger"
            class="w-14 h-14 bg-red-600 dark:bg-red-500 text-white rounded-full flex items-center justify-center text-2xl shadow-lg hover:bg-blue-600 dark:hover:bg-blue-500 transition-colors neon-box">
            ⚾
        </button>
        <div id="chatbot-container"
            class="hidden absolute bottom-16 right-0 w-96 max-w-[calc(100vw-2rem)] bg-white dark:bg-gray-800 rounded-lg shadow-xl">
            <div class="p-4 bg-red-600 dark:bg-red-500 text-white rounded-t-lg flex justify-between items-center">
                <h5 class="font-bold">Pitcher Perfect Chatbot ⚾</h5>
                <button id="close-chatbot" class="hover:text-gray-200">✖</button>
            </div>
            <div id="chatbot-messages" class="h-96 p-4 overflow-y-auto">
                <!-- Messages will appear here -->
            </div>
            <div class="p-4 border-t border-gray-200 dark:border-gray-700 flex">
                <input type="text" id="chatbot-input"
                    class="flex-1 px-4 py-2 rounded-l-lg border-2 border-r-0 border-gray-200 dark:border-gray-700 dark:bg-gray-900 dark:text-white focus:outline-none focus:border-red-500 dark:focus:border-red-400"
                    placeholder="Type your message here..." />
                <button id="send-message"
                    class="px-6 py-2 bg-red-600 dark:bg-red-500 text-white rounded-r-lg hover:bg-blue-600 dark:hover:bg-blue-500 transition-colors">
                    Send
                </button>
            </div>
        </div>
    </div>

    <script>

// Sidebar Toggle
document.getElementById('sidebar-toggle').addEventListener('click', () => {
    const sidebar = document.getElementById('sidebar');
    sidebar.classList.toggle('hidden');
});


// Chatbot Toggle
document.getElementById('chatbot-trigger').addEventListener('click', () => {
    document.getElementById('chatbot-container').classList.toggle('hidden');
});
 // Add dark mode toggle functionality
 const darkModeToggle = document.getElementById('darkModeToggle');
        darkModeToggle.addEventListener('click', () => {
            document.documentElement.classList.toggle('dark');
        });

        // Add sidebar toggle functionality
        const sidebarToggle = document.getElementById('sidebarToggle');
        const sidebar = document.getElementById('sidebar');
        sidebarToggle.addEventListener('click', () => {
            sidebar.classList.toggle('-translate-x-full');
        });
            // Set up the news toggle icon
            // DOM Elements
    const elements = {
        newsSection: document.querySelector('.fixed.bottom-4.left-4'),
        themeToggle: document.getElementById('theme-toggle'),
        settingsToggle: document.getElementById('settings-toggle'),
        settingsDropdown: document.getElementById('settings-dropdown'),
        chatbotTrigger: document.getElementById('chatbot-trigger'),
        chatbotContainer: document.getElementById('chatbot-container'),
        chatbotMessages: document.getElementById('chatbot-messages'),
        chatbotInput: document.getElementById('chatbot-input'),
        sendMessage: document.getElementById('send-message'),
        closeChatbot: document.getElementById('close-chatbot')
    };

    // Create and set up news toggle icon
    const newsIcon = document.createElement('button');
    newsIcon.innerHTML = '📰';
    newsIcon.className = 'w-14 h-14 bg-red-600 dark:bg-red-500 text-white rounded-full flex items-center justify-center text-2xl shadow-lg hover:bg-blue-600 dark:hover:bg-blue-500 transition-colors neon-box';
    elements.newsSection.style.display = 'none';
    elements.newsSection.parentNode.insertBefore(newsIcon, elements.newsSection);

    // Theme functionality
    function updateThemeIcon() {
        const isDark = document.documentElement.classList.contains('dark');
        elements.themeToggle.innerHTML = isDark ? '☀️' : '🌙';
    }

    // Initialize theme
    if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.documentElement.classList.add('dark');
    }
    updateThemeIcon();

    // Theme toggle
    elements.themeToggle.addEventListener('click', () => {
        document.documentElement.classList.toggle('dark');
        updateThemeIcon();
        localStorage.theme = document.documentElement.classList.contains('dark') ? 'dark' : 'light';
    });

    // News toggle
    newsIcon.addEventListener('click', () => {
        const currentDisplay = elements.newsSection.style.display;
        elements.newsSection.style.display = currentDisplay === 'none' ? 'block' : 'none';
        
        if (elements.newsSection.style.display === 'block') {
            elements.newsSection.classList.add('animate-fade-in');
            setTimeout(() => elements.newsSection.classList.remove('animate-fade-in'), 300);
        }
    });

    // Add animation styles
    const style = document.createElement('style');
    style.textContent = `
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fadeIn 0.3s ease-out;
        }
    `;
    document.head.appendChild(style);

    // System theme changes
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
        document.documentElement.classList.toggle('dark', e.matches);
        updateThemeIcon();
    });

    // Settings dropdown
    elements.settingsToggle.addEventListener('click', (e) => {
        e.stopPropagation();
        elements.settingsDropdown.classList.toggle('hidden');
    });

    document.addEventListener('click', (e) => {
        if (!elements.settingsDropdown.contains(e.target)) {
            elements.settingsDropdown.classList.add('hidden');
        }
    });

    // Chatbot functionality
    elements.chatbotTrigger.addEventListener('click', () => {
        elements.chatbotContainer.style.display = 
            elements.chatbotContainer.style.display === 'none' || 
            elements.chatbotContainer.style.display === '' ? 'block' : 'none';
    });

    elements.closeChatbot.addEventListener('click', () => {
        elements.chatbotContainer.style.display = 'none';
    });

    // Message handling
    async function handleSendMessage() {
        const userMessage = elements.chatbotInput.value.trim();
        if (!userMessage) return;

        const userMessageElement = document.createElement('div');
        userMessageElement.innerText = `You: ${userMessage}`;
        userMessageElement.style.color = 'blue';
        elements.chatbotMessages.appendChild(userMessageElement);
        elements.chatbotMessages.scrollTop = elements.chatbotMessages.scrollHeight;
        elements.chatbotInput.value = '';

        try {
            const response = await fetch('/chatbot', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ message: userMessage })
            });

            if (!response.ok) throw new Error('Network response was not ok');
            const data = await response.json();

            const botMessageElement = document.createElement('div');
            botMessageElement.innerText = `PitcherPerfect: ${data.response}`;
            botMessageElement.style.color = 'red';
            elements.chatbotMessages.appendChild(botMessageElement);
        } catch (error) {
            const errorMessage = document.createElement('div');
            errorMessage.innerText = "Sorry, I'm having trouble connecting right now. Please try again later.";
            errorMessage.style.color = 'red';
            elements.chatbotMessages.appendChild(errorMessage);
            console.error('Error:', error);
        }

        elements.chatbotMessages.scrollTop = elements.chatbotMessages.scrollHeight;
    }

    elements.sendMessage.addEventListener('click', handleSendMessage);
    elements.chatbotInput.addEventListener('keypress', (event) => {
        if (event.key === 'Enter') handleSendMessage();
    });

    </script>
</body>

</html>